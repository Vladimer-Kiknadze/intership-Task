@if (user$ | async; as userDetail) {

<app-user-detail [userDetail]="userDetail"> </app-user-detail>

<div class="container">
  @for (user of userPosts$ | async ; track user.id) {
  <div class="card">
    <span class="title">{{ user.title | truncateString : 3 }}</span>
    <div class="card-body">
      <p>
        {{ user.body | truncateString : 10 }}
      </p>
    </div>
    <div class="card-footer">
      <button (click)="showPopup(user)" class="button detail btn-stylized">
        <i class="fa-solid fa-circle-info"></i>
        Details
      </button>
    </div>
    @if (popUpIsVisible && selectedUser === user){
    <app-popup
      (PopupEmitter)="hidePopup($event)"
      [user]="selectedUser"
    ></app-popup>
    }
  </div>
  }
</div>
}
